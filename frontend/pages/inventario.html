<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario de Ropa</title>
    <!-- <script src="../js/inventario.js" defer></script> -->
</head>
<body>

    <table id="tabla">

        <thead>
            <th>Nombre</th>
            <th>Descripci√≥n</th>
            <th>Precio C/U</th>
            <th>Categoria</th>
            <th>Talla</th>
        </thead>

        <tbody id="datos">

        </tbody>

    </table>
    
</body>
</html>

<script>

const actualizarTabla = async () => {

    try{
        const res = await fetch("http://localhost:3000/api/productos/consultaProductos", {
            method: "GET",
            headers: {
              'Content-Type': 'application/json'
            }
        })

        const consulta = await res.json();
        
        if(res.ok){
      
          let datos = consulta.datos;
          let html = ""; 
            
          Object.values(datos).forEach(producto => {
            
            html += `<tr>
                        <td>${producto.nombre}</td>
                        <td>${producto.descripcion}</td>
                        <td>${producto.precio_unitario}</td>
                        <td>${producto.categoria}</td>
                        <td>${producto.talla}</td>
                    </tr>
            `
          })

          document.getElementById("datos").innerHTML = html;

        }
    }catch(error){
        console.log(error)
    }

}

document.addEventListener('DOMContentLoaded', actualizarTabla)

</script>